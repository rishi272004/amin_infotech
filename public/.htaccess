<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1. Force Trailing Slashes (Compatibility for shared hosting folders)
  # This matches the trailingSlash: true setting in next.config.ts
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_URI} !index\.html$
  RewriteCond %{REQUEST_URI} !(.*)/$
  RewriteRule ^(.*)$ $1/ [L,R=301]

  # 2. Map /about/ to /about/index.html internally
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME}index\.html -f
  RewriteRule ^(.*)$ $1index.html [L]

  # 3. Handle 404 Errors
  ErrorDocument 404 /_not-found/index.html

  # 4. Prevent Directory Listing
  Options -Indexes -MultiViews
</IfModule>
